(this["webpackJsonpclient-mytin"]=this["webpackJsonpclient-mytin"]||[]).push([[0],{28:function(e,t,a){e.exports=a.p+"static/media/MYtineraryLogo.a227b9b3.png"},33:function(e,t,a){e.exports=a(63)},38:function(e,t,a){},39:function(e,t,a){},63:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(27),c=a.n(l),o=(a(38),a(29)),i=a(11),s=(a(39),a(1)),u=a(3),m=a.n(u),p=Object(n.createContext)(),d=function(e){var t=Object(n.useState)([]),a=Object(s.a)(t,2),l=a[0],c=a[1];return Object(n.useEffect)((function(){m.a.get("http://localhost:4040/users/").then((function(e){return c(e.data)})).catch((function(e){return console.log("users not coming, sir",e)}))}),[]),r.a.createElement(p.Provider,{value:{users:l}},e.children)},f=Object(n.createContext)(),h=function(e){var t=Object(n.useState)(!1),a=Object(s.a)(t,2),l=a[0],c=a[1];return Object(n.useEffect)((function(){(localStorage.token||void 0!==localStorage.token)&&c(!0)}),[]),r.a.createElement(f.Provider,{value:{isLoggedIn:l}},e.children)},g=a(9),E=function(){var e=Object(n.useContext)(f).isLoggedIn,t=Object(n.useContext)(p).users,a=Object(n.useState)(!1),l=Object(s.a)(a,2),c=l[0],o=l[1],i=Object(n.useState)(!1),u=Object(s.a)(i,2),m=u[0],d=u[1],h=e?t.filter((function(e){return e.mail===localStorage.mail})):void 0,E=function(e){e.preventDefault(),localStorage.clear(),o(!0),setTimeout((function(){window.location.href="/"}),2200)},v=void 0!==h?h.map((function(e){return r.a.createElement("div",{className:"navbar"},r.a.createElement("div",null,r.a.createElement("ul",null,r.a.createElement("li",{style:{display:"flex",flexDirection:"column"},onMouseOver:function(){return d(!0)}},"Explore"),r.a.createElement("ul",null,r.a.createElement("div",{style:m?{display:"flex",flexDirection:"column"}:{display:"none"},onMouseLeave:function(){return d(!1)}},r.a.createElement("a",{href:"/cities"},"Cities "),r.a.createElement("a",{href:"/itineraries"},"Itineraries "))),r.a.createElement("a",{href:"/contact"},r.a.createElement("li",null,"Contact")),r.a.createElement("a",{style:{cursor:"pointer"},href:"/",onClick:E},r.a.createElement("li",null,"Log Out")))),r.a.createElement("a",{id:"user-status",href:"/profile"},r.a.createElement("p",null,e.first_name),r.a.createElement("img",{src:e.picture,alt:"user"})))})):r.a.createElement("div",{className:"navbar"},r.a.createElement("ul",null,r.a.createElement("a",{href:"/"},r.a.createElement("li",null,"Home")),r.a.createElement("a",{href:"/login"},r.a.createElement("li",null,"Log In")),r.a.createElement("a",{href:"/contact"},r.a.createElement("li",null,"Contact")),r.a.createElement("a",{href:"/register"},r.a.createElement("li",null,"Sign up"))),r.a.createElement("div",{className:"google-but"},r.a.createElement(g.a,null),r.a.createElement("a",{href:"http://localhost:4040/auth/google"},r.a.createElement("span",null,"Sign in with Google")))),x=!0===c?r.a.createElement("div",null,r.a.createElement("h3",null,"Good bye, friend! Hope to see you again soon.")):r.a.createElement("div",null);return r.a.createElement("div",null,r.a.createElement("div",null,v),r.a.createElement("div",null,x))},v=a(2),x=a.n(v),y=a(5),b=Object(n.createContext)(),w=function(e){var t=Object(n.useState)([]),a=Object(s.a)(t,2),l=a[0],c=a[1];Object(n.useEffect)((function(){o()}),[]);var o=function(){var e=Object(y.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("http://localhost:4040/cities/").then((function(e){c(e.data)})).catch((function(e){return console.log("oops, something went wrong with those cities",e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(b.Provider,{value:{cities:l}},e.children)},j=a(28),O=a.n(j),S=function(){var e=Object(n.useContext)(b).cities.slice(0,4),t=e.length?e.map((function(e){return r.a.createElement("div",{key:e._id,className:"city-card"},r.a.createElement("img",{src:e.image,alt:""}),r.a.createElement("div",{className:"city-content"},r.a.createElement("h4",null,e.name),r.a.createElement("p",null,e.country)))})):r.a.createElement("div",null,"No cities to show yet.");return r.a.createElement("div",null,r.a.createElement("h2",null," Welcome to Mytinerary"),r.a.createElement("img",{style:{maxWidth:"300px",heigth:"auto",margin:"30px 20px"},src:O.a,alt:""}),r.a.createElement("div",{className:"reg-but",style:{margin:"0 auto"}},r.a.createElement("a",{href:"/register"},r.a.createElement("p",null,"Sign Up!"))),r.a.createElement("div",{className:"list"},t))},N=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(""),o=Object(s.a)(c,2),i=o[0],u=o[1],p=function(){var e=Object(y.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={mail:a,password:i},e.next=4,m()({method:"post",url:"http://localhost:4040/auth/login/",data:n,headers:{"Content-Type":"Application/json"}}).then((function(e){console.log(e),localStorage.clear(),localStorage.setItem("token",e.data.token),localStorage.setItem("mail",e.data.mail),l(""),u("")})).then((function(){return setInterval((function(){window.location.href="/cities"}),1500)})).catch((function(e){return console.log(e)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"list"},r.a.createElement("form",{className:"reg-form",onSubmit:p},r.a.createElement("input",{className:"form-field",type:"text",placeholder:"name",value:a,onChange:function(e){e.preventDefault(),l(e.target.value)}}),r.a.createElement("input",{className:"form-field",type:"password",placeholder:"password",value:i,onChange:function(e){e.preventDefault(),u(e.target.value)}}),r.a.createElement("button",{className:"submit-but"},"Log In, yo!")))},C=function(){var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(""),o=Object(s.a)(c,2),i=o[0],u=o[1],p=Object(n.useState)(""),d=Object(s.a)(p,2),f=d[0],h=d[1],g=Object(n.useState)(""),E=Object(s.a)(g,2),v=E[0],b=E[1],w=Object(n.useState)(""),j=Object(s.a)(w,2),O=j[0],S=j[1],N=function(){var e=Object(y.a)(x.a.mark((function e(t){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n={first_name:a,last_name:i,picture:v,mail:f,password:O},console.log(n),m.a.post("http://localhost:4040/users/register",{data:n,headers:{"Content-Type":"application/json"}}).then((function(e){return console.log(e,"User correctly registered")})).catch((function(e){return console.log(e)})),l(""),u(""),h(""),S(""),b("");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"list"},r.a.createElement("form",{className:"reg-form",onSubmit:N},r.a.createElement("input",{className:"form-field",type:"text",placeholder:"name",value:a,onChange:function(e){e.preventDefault(),l(e.target.value)}}),r.a.createElement("input",{className:"form-field",type:"text",placeholder:"last name",value:i,onChange:function(e){e.preventDefault(),u(e.target.value)}}),r.a.createElement("input",{className:"form-field",type:"text",placeholder:"mail",value:f,onChange:function(e){e.preventDefault(),h(e.target.value)}}),r.a.createElement("input",{className:"form-field",type:"text",placeholder:"pic",value:v,onChange:function(e){e.preventDefault(),b(e.target.value)}}),r.a.createElement("input",{className:"form-field",type:"password",placeholder:"password",value:O,onChange:function(e){e.preventDefault(),S(e.target.value)}}),r.a.createElement("button",{className:"submit-but"},"Just say yes!")))},k=function(){var e=Object(n.useContext)(b).cities,t=e.length?e.map((function(e){return r.a.createElement("a",{href:"/cities/"+e._id+"&name="+e.name},r.a.createElement("div",{key:e._id,className:"city-card"},r.a.createElement("img",{src:e.image}),r.a.createElement("div",{className:"city-content"},r.a.createElement("h4",null,e.name),r.a.createElement("p",null,e.country))))})):r.a.createElement("div",null,"No cities to show yet.");return r.a.createElement("div",{className:"list"},t)},D=function(e){var t=Object(n.useContext)(b).cities,a=Object(n.useState)([]),l=Object(s.a)(a,2),c=l[0],o=l[1],i=Object(n.useState)([]),u=Object(s.a)(i,2),p=u[0],d=u[1],f=e.match.params.id.split("&")[0],h=new URLSearchParams(window.location.href),g=t.filter((function(e){return e._id===f})),E=h.get("name");Object(n.useEffect)((function(){(function(){var e=Object(y.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("http://localhost:4040/itineraries/city/".concat(E)).then((function(e){return o(e.data)})).catch((function(e){return console.log("oops, not hearing that city oright",e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.useEffect)((function(){(function(){var e=Object(y.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("http://localhost:4040/plans/city/".concat(E)).then((function(e){return d(e.data)})).catch((function(e){return console.log("something wrong with the plans in this city",e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var v=c.length?c.map((function(e){return r.a.createElement("a",{href:"../itineraries/"+e._id,style:{textDecoration:"none"}},r.a.createElement("div",{key:e._id,className:"city-card"},r.a.createElement("img",{src:e.image,alt:""}),r.a.createElement("div",{className:"city-content"},r.a.createElement("h4",null,e.name))))})):r.a.createElement("div",{style:{marginBottom:"20px"}},"No itineraries defined for this city"),w=g?g.map((function(e){return r.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",width:"100%"}},r.a.createElement("div",{style:{margin:"20px 0",borderRadius:"8px",boxShadow:"rgb(1, 85, 77) 0 0 10px 0",width:"90%",maxWidth:"450px",display:"flex",flexDirection:"column",alignItems:"center"}},r.a.createElement("img",{style:{width:"100%",height:"auto"},src:e.image,alt:""}),r.a.createElement("h3",null,e.name),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around",borderBottom:"solid 1.5px teal",padding:"0 5px 20px 5px"}},r.a.createElement("span",null,e.country)),r.a.createElement("div",null,r.a.createElement("h4",null,"Check these itineraries"),v)),r.a.createElement("div",null,p.length?p.map((function(e){return r.a.createElement("div",{key:e._id,style:{marginBottom:"10px",paddingRight:"10px",width:"300px",height:"100px",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",borderRadius:"6px",boxShadow:"0 0 6px 0 teal"}},r.a.createElement("img",{style:{width:"150px",height:"100px",borderTopLeftRadius:"6px",borderBottomLeftRadius:"6px"},src:e.img,alt:"plan"}),r.a.createElement("span",{style:{textAlign:"right"}},e.title))})):r.a.createElement("div",null,"No plans in this city")))})):r.a.createElement("div",null,"We don't know what city you want to go to.");return r.a.createElement("div",null,w)},_=a(32),I=function(e){var t=Object(n.useContext)(p).users,a=Object(n.useState)(""),l=Object(s.a)(a,2),c=l[0],o=l[1],i=Object(n.useState)(""),u=Object(s.a)(i,2),d=u[0],f=u[1],h=Object(n.useState)([]),E=Object(s.a)(h,2),v=E[0],b=E[1],w=Object(n.useState)(!1),j=Object(s.a)(w,2),O=j[0],S=j[1],N=Object(n.useState)([]),C=Object(s.a)(N,2),k=C[0],D=C[1],I=Object(n.useState)(""),B=Object(s.a)(I,2),R=B[0],L=B[1],T=e.match.params.id.split("&")[0],A=t?t.filter((function(e){return e.mail===localStorage.mail})):void 0,P=A[0]?A[0].favourites:void 0;Object(n.useEffect)((function(){(function(){var e=Object(y.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("http://localhost:4040/itineraries/itins/".concat(t)).then((function(e){o(e.data),L(e.data[0].nest)})).catch((function(e){return console.log("something went wrong",e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})()(T)}),[T]),Object(n.useEffect)((function(){(function(){var e=Object(y.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("http://localhost:4040/itineraries/comments/".concat(t)).then((function(e){b(e.data)})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})()(T)}),[T]),Object(n.useEffect)((function(){P&&P.includes(T)&&S(!0)}),[P,T]),Object(n.useEffect)((function(){R&&function(){var e=Object(y.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("http://localhost:4040/plans/itinerary/".concat(t)).then((function(e){console.log(e),D(e.data)})).catch((function(e){return console.log("problems with the plans",e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(R)}),[R]);var W=function(){var e=A[0]?A[0]._id:void 0,t=JSON.stringify(localStorage.token);void 0!==T&&m()("http://localhost:4040/users/favs/add/".concat(e),{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:{id:T}}).then((function(e){P.push(T),console.log(e.status)})).catch((function(e){return console.log(e)})),S(!0)},Y=function(){var e=A[0]?A[0]._id:void 0,t=JSON.stringify(localStorage.token);m()("http://localhost:4040/users/favs/remove/".concat(e),{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)},data:{id:T}}).then((function(e){P.pop(T),console.log(e)})).catch((function(e){return console.log(e)})),S(!1)},z=c?c.map((function(e){var t=e.hashtags?e.hashtags.split(",").map((function(e,t){if(e.length)return r.a.createElement("span",{style:{margin:"0 10px",fontStyle:"italic"},key:t},"#",e)})):r.a.createElement("p",null,"No hashtags to show");return r.a.createElement("div",{style:{margin:"20px 0",borderRadius:"8px",boxShadow:"rgb(1, 85, 77) 0 0 10px 0",width:"90%"},key:e._id},r.a.createElement("div",{style:{backgroundImage:"url(".concat(e.image,")"),backgroundSize:"cover",minHeight:"200px",padding:"20px 10px",color:"whiteSmoke"}}),r.a.createElement("h3",null,e.name),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around",borderBottom:"solid 1.5px teal",padding:"0 5px 20px 5px"}},r.a.createElement("span",null,e.city),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},r.a.createElement("span",null,e.rating),r.a.createElement(g.c,{style:{color:"teal",marginLeft:"5px"}}))),r.a.createElement("div",null),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start",padding:"10px 30px"}},r.a.createElement("h4",null,"Some practical information:"),r.a.createElement("p",null,"Duration: ",e.duration,"h"),r.a.createElement("p",null,"Price: ",e.price,"\u20ac")),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},r.a.createElement("h4",null,"Wanna join these plans??"),k.length?k.map((function(e){return r.a.createElement("div",{key:e._id,style:{marginBottom:"10px",paddingRight:"10px",width:"300px",height:"100px",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",borderRadius:"6px",boxShadow:"0 0 6px 0 teal"}},r.a.createElement("img",{style:{width:"150px",height:"100px",borderTopLeftRadius:"6px",borderBottomLeftRadius:"6px"},src:e.img,alt:"plan"}),r.a.createElement("span",{style:{textAlign:"right"}},e.title))})):r.a.createElement("div",null,"there are not plans described for this itinerary yet")),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",margin:"20px 0"}},O?r.a.createElement("div",null,r.a.createElement(g.b,{style:{color:"teal",cursor:"pointer"},onClick:Y})):r.a.createElement("button",{className:"reg-but",onClick:W},r.a.createElement(g.b,{style:{color:"white"}}),"Love this!")),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",margin:"0 0 20px 0",padding:"5px 30px",justifyContent:"center"}},t))})):r.a.createElement("div",null,"Nothing to show yet");return r.a.createElement("div",{style:{display:"flex",flexDirection:"column",width:"100%",alignItems:"center"}},z,r.a.createElement("h4",null,"Comments on this:"),r.a.createElement("div",{style:{maxHeight:"600px",width:"85%",overflowY:"scroll"}},v.length?v.map((function(e){return r.a.createElement("div",{key:e._id,style:{borderBottom:"1px teal dashed",marginBottom:"20px",display:"flex",flexDirection:"column",alignItems:"center"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start",width:"300px",padding:"20px 10px"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},r.a.createElement("img",{style:{width:"50px",height:"50px",borderRadius:"8px",marginRight:"20px"},src:e.userPic,alt:"user face"}),r.a.createElement("span",null,e.userName)),r.a.createElement("p",{style:{wordWrap:"wrap",textAlign:"left"}},e.comment)),r.a.createElement("p",null,"Commented on: ",e.date))})):r.a.createElement("div",null,"Be the first to leave a comment")),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",border:"teal 2px solid",borderRadius:"10px",padding:"20px",width:"80%",margin:"20px 0"}},r.a.createElement("h3",null,"Leave a comment!"),r.a.createElement("div",null,r.a.createElement("img",{style:{position:"relative",width:"50px",height:"50px",borderRadius:"12px",top:"20px",right:"70%"},src:A[0]?A[0].picture:void 0,alt:"user"}),r.a.createElement("span",{style:{position:"relative",right:"60%",top:"-8px"}},A[0]?A[0].first_name:"John Doe")),r.a.createElement("form",{style:{display:"flex",flexDirection:"column",alignItems:"center",width:"80%"},onSubmit:function(e){if(e.preventDefault(),A){var t=(new Date).toDateString(),a={userId:A[0]._id,comment:d,itinId:T,userName:A[0].first_name,userPic:A[0].picture,date:t};b([].concat(Object(_.a)(v),[a])),m()("http://localhost:4040/itineraries/comment",{method:"post",headers:{"Content-Type":"application/json"},data:a}).then((function(e){console.log(e.status)})).catch((function(e){return console.log("we did not get that comment",e)}))}f("")}},r.a.createElement("textarea",{style:{width:"100%",minHeight:"100px",padding:"30px 20px 20px 20px"},wrap:"soft",type:"text",onChange:function(e){e.preventDefault(),f(e.target.value)},value:d}),r.a.createElement("button",{className:"reg-but",type:"submit"},"Comment"))))},B=function(){var e=Object(n.useContext)(p).users,t=Object(n.useState)([]),a=Object(s.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)([]),i=Object(s.a)(o,2),u=i[0],d=i[1],f=new URLSearchParams(window.location.href),h=f.get("user"),g=f.get("token");!localStorage.token&&h&&localStorage.setItem("token",g),!localStorage.mail&&g&&localStorage.setItem("mail",h);var E=e.filter((function(e){return e.mail===localStorage.mail||e.mail===h})),v=void 0!==E[0]?E[0].favourites:void 0;Object(n.useEffect)((function(){(function(){var e=Object(y.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("http://localhost:4040/itineraries/").then((function(e){console.log(e),c(e.data)})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.useEffect)((function(){var e=function(){var e=Object(y.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("http://localhost:4040/users/".concat(t,"/comments/")).then((function(e){return d(e.data)})).catch((function(e){return console.log("no comments",e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();void 0!==E[0]&&e(E[0]._id)}),[E]);var b=l&&void 0!==v?l.filter((function(e){return v.includes(e._id)})):void 0;return E?E.map((function(e){return r.a.createElement("div",{className:"profile"},r.a.createElement("div",{className:"header"},r.a.createElement("h2",null,"This is your personal profile")),r.a.createElement("div",{className:"user-info"},r.a.createElement("div",{className:"pic-name"},r.a.createElement("img",{src:e.picture}),r.a.createElement("h3",null,e.first_name)),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start",marginLeft:"60px"}},r.a.createElement("p",null,"Complete name: ",e.first_name+" "+e.last_name),r.a.createElement("p",null,"Age: ",e.age?e.age:"many"," years"),r.a.createElement("p",null,"Email: ",e.mail)),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},r.a.createElement("h3",null,"These are the itineraries you love:"),b.length?b.map((function(e){return r.a.createElement("a",{href:"../itineraries/".concat(e._id),style:{textDecoration:"none"},key:e._id},r.a.createElement("div",{className:"city-card"},r.a.createElement("img",{src:e.image}),r.a.createElement("div",{className:"city-content"},r.a.createElement("h4",null,e.name))))})):r.a.createElement("p",null,"You have no favourites yet. Go find your first!")),r.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"}},r.a.createElement("h3",null,"These are the comments you've made:"),u.length?u.map((function(e){return r.a.createElement("div",{key:e._id,style:{borderBottom:"1px teal dashed",marginBottom:"20px"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start",width:"300px",padding:"20px 10px"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},r.a.createElement("img",{style:{width:"50px",height:"50px",borderRadius:"8px",marginRight:"20px"},src:e.userPic}),r.a.createElement("span",null,e.userName)),r.a.createElement("p",{style:{wordWrap:"wrap",textAlign:"left"}},e.comment)),r.a.createElement("p",null,"Commented on: ",e.date))})):r.a.createElement("p",null,"You're short on words, I guess."))))})):r.a.createElement("div",null,r.a.createElement("p",null,"Come closer, let me take a look at your face."))},R=function(){var e=Object(n.useContext)(p).users,t=Object(n.useState)(""),a=Object(s.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(""),i=Object(s.a)(o,2),u=i[0],d=i[1],f=Object(n.useState)(""),h=Object(s.a)(f,2),g=h[0],E=h[1],v=Object(n.useState)(""),x=Object(s.a)(v,2),y=x[0],b=x[1],w=localStorage.mail?e.filter((function(e){return e.mail===localStorage.mail})):void 0,j=function(e){if(e.preventDefault(),w){var t={userId:w[0]._id,firstName:w[0].first_name,lastName:w[0].last_name,userMail:w[0].mail,message:y,date:(new Date).toString};m()("http://localhost:4040/users/message/send",{method:"post",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.token)},data:t}).then((function(e){return console.log(e.status)})).catch((function(e){return console.log("the message was not sent",e)})),b("")}else{var a={firstName:l,lastName:u,userMail:g,message:y,date:(new Date).toString};m()("http://localhost:4040/users/message/send",{method:"post",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.token)},data:a}).then((function(e){return console.log(e)})).catch((function(e){return console.log("the message was not sent",e)})),b(""),E(""),c(""),d("")}},O=function(e){e.preventDefault(),b(e.target.value)},S=r.a.createElement("a",{id:"info-mail",href:"mailto:info@mytin.com"},r.a.createElement("p",null,"info@mytin.com"));return r.a.createElement("div",{className:"list"},r.a.createElement("h3",null,"Anything on your mind? Reach us and let it out!"),w?r.a.createElement("form",{className:"reg-form",onSubmit:j},r.a.createElement("textarea",{style:{padding:"10px"},className:"form-field",type:"text",placeholder:"Your message",value:y,onChange:O,wrap:"soft wrap"}),r.a.createElement("button",{className:"submit-but"},"Send")):r.a.createElement("form",{className:"reg-form",onSubmit:j},r.a.createElement("input",{className:"form-field",type:"text",placeholder:"Your name",value:l,onChange:function(e){e.preventDefault(),c(e.target.value)}}),r.a.createElement("input",{className:"form-field",type:"text",placeholder:"Your last name",value:u,onChange:function(e){e.preventDefault(),d(e.target.value)}}),r.a.createElement("input",{className:"form-field",type:"text",placeholder:"Your mail",value:g,onChange:function(e){e.preventDefault(),E(e.target.value)}}),r.a.createElement("textarea",{style:{padding:"10px"},className:"form-field",type:"text",placeholder:"Your message",value:y,onChange:O,wrap:"soft wrap"}),r.a.createElement("button",{className:"submit-but"},"Send")),r.a.createElement("span",{style:{color:"teal"}},"Otherwise, you can reach us at ",S))},L=function(){var e=Object(n.useContext)(p).users,t=Object(n.useState)([]),a=Object(s.a)(t,2),l=a[0],c=a[1],o=e?e.filter((function(e){return e.mail===localStorage.mail})):void 0,i=o[0]?o[0].favourites:void 0;Object(n.useEffect)((function(){(function(){var e=Object(y.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m()("http://localhost:4040/itineraries/").then((function(e){return c(e.data)})).catch((function(e){return console.log("error with the itins",e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[i,l]);var u=l.length?l.map((function(e){return r.a.createElement("div",{style:{borderRadius:"10px",boxShadow:"0 0 10px 0 teal",margin:"15px 0"}},r.a.createElement("a",{style:{textDecoration:"none",color:"teal"},key:e._id,href:"./itineraries/".concat(e._id)},r.a.createElement("div",{style:{backgroundImage:"url(".concat(e.image,")"),backgroundSize:"cover",minHeight:"200px",padding:"20px 10px",color:"whiteSmoke"}}),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around",padding:"0 5px 20px 5px",margin:"10px 0"}},r.a.createElement("span",null,e.name),r.a.createElement("span",null,e.city),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"}},r.a.createElement("span",null,e.rating),r.a.createElement(g.c,{style:{color:"teal",marginLeft:"5px"}})))),r.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",margin:"20px 0"}},i&&i.includes(e._id)?r.a.createElement("div",null,r.a.createElement(g.b,{style:{color:"teal",cursor:"pointer",marginBottom:"20px"},onClick:function(){var t=o[0]?o[0]._id:void 0,a=JSON.stringify(localStorage.token),n=e._id;m()("http://localhost:4040/users/favs/remove/".concat(t),{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},data:{id:n}}).then((function(e){i.pop(n),console.log(e),console.log("favs remaining",i)})).catch((function(e){return console.log(e)}))}})):r.a.createElement("button",{className:"reg-but",onClick:function(){var t=o[0]?o[0]._id:void 0,a=JSON.stringify(localStorage.token),n=e._id;console.log("itinerary fav",e._id),m()("http://localhost:4040/users/favs/add/".concat(t),{method:"put",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)},data:{id:n}}).then((function(e){console.log(e.status)})).catch((function(e){return console.log(e)})),i.push(n),console.log("now favs",i)}},r.a.createElement(g.b,{style:{color:"white"}}),"Like it?")))})):r.a.createElement("div",null,"No itineraries to show yet.");return r.a.createElement("div",null,u)};var T=function(){return r.a.createElement(o.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(d,null,r.a.createElement(h,null,r.a.createElement(E,null),r.a.createElement(i.c,null,r.a.createElement(w,null,r.a.createElement(i.a,{exact:!0,path:"/",component:S}),r.a.createElement(i.a,{path:"/login",component:N}),r.a.createElement(i.a,{path:"/register",component:C}),r.a.createElement(i.a,{exact:!0,path:"/cities",component:k}),r.a.createElement(i.a,{path:"/cities/:id",component:D}),r.a.createElement(i.a,{path:"/itineraries/:id",component:I}),r.a.createElement(i.a,{path:"/profile",component:B}),r.a.createElement(i.a,{exact:!0,path:"/contact",component:R}),r.a.createElement(i.a,{exact:!0,path:"/itineraries",component:L})))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[33,1,2]]]);
//# sourceMappingURL=main.f62fa704.chunk.js.map